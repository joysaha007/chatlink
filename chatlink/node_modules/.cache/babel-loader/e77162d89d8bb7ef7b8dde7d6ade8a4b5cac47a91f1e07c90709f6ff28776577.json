{"ast":null,"code":"import * as ChatApi from \"../api/ChatRequest\";\nexport const createChat = chatData => async dispatch => {\n  try {\n    // Check if the chat already exists\n    const {\n      data: existingChat\n    } = await ChatApi.findChat(chatData.senderId.toString(), chatData.receiverId.toString());\n    if (existingChat) {\n      console.log(\"Chat already exists:\", existingChat);\n      return existingChat; // Return the existing chat\n    }\n\n    // If no chat exists, create a new one\n    const {\n      data: newChat\n    } = await ChatApi.createChat({\n      senderId: chatData.senderId.toString(),\n      receiverId: chatData.receiverId.toString()\n    });\n    console.log(\"Chat created successfully:\", newChat);\n    return newChat; // Return the newly created chat\n  } catch (error) {\n    console.error(\"Error creating or checking chat:\", error);\n  }\n};","map":{"version":3,"names":["ChatApi","createChat","chatData","dispatch","data","existingChat","findChat","senderId","toString","receiverId","console","log","newChat","error"],"sources":["E:/React/Intern Project/chatlink/src/components/actions/ChatAction.js"],"sourcesContent":["import * as ChatApi from \"../api/ChatRequest\";\r\n\r\nexport const createChat = (chatData) => async (dispatch) => {\r\n  try {\r\n    // Check if the chat already exists\r\n    const { data: existingChat } = await ChatApi.findChat(\r\n      chatData.senderId.toString(),\r\n      chatData.receiverId.toString()\r\n    );\r\n\r\n    if (existingChat) {\r\n      console.log(\"Chat already exists:\", existingChat);\r\n      return existingChat; // Return the existing chat\r\n    }\r\n\r\n    // If no chat exists, create a new one\r\n    const { data: newChat } = await ChatApi.createChat({\r\n      senderId: chatData.senderId.toString(),\r\n      receiverId: chatData.receiverId.toString(),\r\n    });\r\n\r\n    console.log(\"Chat created successfully:\", newChat);\r\n    return newChat; // Return the newly created chat\r\n  } catch (error) {\r\n    console.error(\"Error creating or checking chat:\", error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,oBAAoB;AAE7C,OAAO,MAAMC,UAAU,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC1D,IAAI;IACF;IACA,MAAM;MAAEC,IAAI,EAAEC;IAAa,CAAC,GAAG,MAAML,OAAO,CAACM,QAAQ,CACnDJ,QAAQ,CAACK,QAAQ,CAACC,QAAQ,CAAC,CAAC,EAC5BN,QAAQ,CAACO,UAAU,CAACD,QAAQ,CAAC,CAC/B,CAAC;IAED,IAAIH,YAAY,EAAE;MAChBK,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEN,YAAY,CAAC;MACjD,OAAOA,YAAY,CAAC,CAAC;IACvB;;IAEA;IACA,MAAM;MAAED,IAAI,EAAEQ;IAAQ,CAAC,GAAG,MAAMZ,OAAO,CAACC,UAAU,CAAC;MACjDM,QAAQ,EAAEL,QAAQ,CAACK,QAAQ,CAACC,QAAQ,CAAC,CAAC;MACtCC,UAAU,EAAEP,QAAQ,CAACO,UAAU,CAACD,QAAQ,CAAC;IAC3C,CAAC,CAAC;IAEFE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEC,OAAO,CAAC;IAClD,OAAOA,OAAO,CAAC,CAAC;EAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdH,OAAO,CAACG,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;EAC1D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}